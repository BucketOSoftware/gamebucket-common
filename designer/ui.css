#gbk-designer {
    --line-thickness: 4px;
    --line-stride: 1.75;

    --panel-gap: 8px;

    --palette-button-width: 32px;
    --palette-border-thickness: 4px;
    font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;
}

#gbk-designer .main {
    width: 100%;
    height: 100%;
    padding: var(--panel-gap);
    overflow: hidden
}

#gbk-designer .columns {
    gap: calc(var(--panel-gap) / 2);
}

#gbk-designer .resize-handle {
    border-radius: 1px;
    border: 1px double hsl(214, 17%, 75%);
    background-color: #1c2127;
    padding: 1.5px;
}

#gbk-designer .column {
    display: flex;
    flex-direction: column;
    /* overflow-x: hidden;
    overflow-y: scroll; */

    gap: var(--panel-gap);
}

#gbk-designer .card-whole-height {
    display: flex;
    flex-direction: column;

    height: 100%;
}

#gbk-designer .card-whole-height .bp5-section-card {
    flex-grow: 1;
    overflow: hidden;
}

#gbk-designer .card-stacking-context .bp5-section-card {
    z-index: 0;
    isolation: isolate;
    mix-blend-mode: multiply;
}

#gbk-designer .layerboss {
    width: 100%;
    height: 100%;
    position: relative;
    inset: 0;
    /* this element can be bigger than the layers... */
    /* box-shadow: 2px 2px 0px black; */
}

#gbk-designer .layerboss>* {
    position: absolute;
    /* border: 1px dotted black; */
}

#gbk-designer .bp5-monospace-text {
    font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
}

#gbk-designer .flex-shrink {
    flex: 0 1 auto;
}

#gbk-designer .right-align input {
    text-align: right;
}

#gbk-designer .gbk-viewport {
    width: 100%;
    height: 100%;
    inset: 0;
    touch-action: none;
    background-color: aliceblue;
    cursor: help;
}

#gbk-designer .gbk-viewport-layer {
    /* pointer-events: none; */
    touch-action: none;
}

#gbk-designer .gbk-tool-no-use .gbk-viewport {
    cursor: not-allowed !important;
}

#gbk-designer .gbk-tool-none .gbk-viewport {
    cursor: not-allowed;
}

#gbk-designer .gbk-tool-draw .gbk-viewport {
    cursor: crosshair;
}

#gbk-designer .gbk-tool-select .gbk-viewport {
    cursor: crosshair;
}

#gbk-designer .gbk-tool-select.gbk-tool-dragging .gbk-viewport {
    cursor: nwse-resize;
}

#gbk-designer .gbk-tool-select.gbk-tool-hovering .gbk-viewport {
    cursor: pointer;
}

#gbk-designer .gbk-tool-create .gbk-viewport {
    cursor: copy;
}


#gbk-designer .palette-grid {
    /* display: grid; */
    /* gap: 1px; */
    /* grid-template-columns: repeat(auto-fit, minmax(32px, 1fr)); */
    /* grid-template-columns: repeat(auto-fit, minmax(32px, 1fr)); */
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    flex-direction: row;
    gap: calc(var(--panel-gap) * 0.5);
}

#gbk-designer .gbk-palette-button {
    border-radius: 4px;
    padding: 0px;
    box-shadow: 1px 1px rgba(0, 0, 0, 50%);
    border: var(--palette-border-thickness) solid rgba(0, 0, 0, 0%);
}
/* 
#gbk-designer .gbk-palette-sizing {
    width: var(--palette-button-width);
    height: var(--palette-button-width);
} */

#gbk-designer .gbk-palette-button.gbk-palette-button-selected {
    box-shadow: 2px 2px black,
        inset var(--palette-border-thickness) var(--palette-border-thickness) white,
        inset calc(-1 * var(--palette-border-thickness)) var(--palette-border-thickness) white,
        inset var(--palette-border-thickness) calc(-1 * var(--palette-border-thickness)) white,
        inset calc(-1 * var(--palette-border-thickness)) calc(-1 * var(--palette-border-thickness)) white;

    border: var(--palette-border-thickness) solid hsl(240, 100%, 60%);
}

#gbk-designer .palette-tags {
    display: flex;
    gap: 4px 3px;
    flex-wrap: wrap;
    flex-direction: row;
    /* grid-template-columns: repeat(auto-fit, minmax(32px, 1fr)); */
}


#gbk-designer .marching-ants {
    position: absolute;

    stroke: rgba(255, 255, 255, 1);
    /* touch-action: none; */
    pointer-events: none;
    filter:
        drop-shadow(1px 1px hsla(250, 25%, 25%, 0.9)) drop-shadow(0px 0px 1px hsla(250, 25%, 25%, 1));
}


#gbk-designer .marching-ants rect {
    fill: none;
    stroke-width: var(--line-thickness);
    stroke-dasharray: calc(var(--line-thickness) * var(--line-stride));
    stroke-dashoffset: calc(var(--line-thickness) * var(--line-stride) * 2);
    animation: marching-ants 0.5s linear infinite;

    /* filter: drop-shadow(4px 4px 3px rgba(0, 0, 0, 1)); */
    vector-effect: non-scaling-stroke;
}

@keyframes marching-ants {
    to {
        stroke-dashoffset: 0;
    }
}